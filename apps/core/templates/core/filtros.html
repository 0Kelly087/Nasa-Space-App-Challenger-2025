<!DOCTYPE html>
<html lang="es">

<head>
  {% load static %}

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Filtros - Misión TEMPO</title>

  <!-- Fuente y CSS principal -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/mapa.css' %}">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

</head>

<body class="filtros-page">
  <div class="overlay"></div>

  <div class="container filtros-container">
    <h1>
      <span class="blanco">CENTRO DE FILTROS DE LA </span>
      <span class="azul"> MISIÓN TEMPO</span>
  </h1>
    <p>Selecciona una localidad de Bogotá para obtener información detallada.</p>

    <!-- Barra de Filtros -->
    <div class="barra-filtros">
      <select id="localidad">
        <option value="">Seleccione una localidad</option>
        <option value="Usaquen">Usaquén</option>
        <option value="Chapinero">Chapinero</option>
        <option value="Santa Fe">Santa Fe</option>
        <option value="San Cristobal">San Cristóbal</option>
        <option value="Usme">Usme</option>
        <option value="Tunjuelito">Tunjuelito</option>
        <option value="Bosa">Bosa</option>
        <option value="Kennedy">Kennedy</option>
        <option value="Fontibon">Fontibón</option>
        <option value="Engativa">Engativá</option>
        <option value="Suba">Suba</option>
        <option value="Barrios Unidos">Barrios Unidos</option>
        <option value="Teusaquillo">Teusaquillo</option>
        <option value="Los Martires">Los Mártires</option>
        <option value="Antonio Nariño">Antonio Nariño</option>
        <option value="Puente Aranda">Puente Aranda</option>
        <option value="Candelaria">La Candelaria</option>
        <option value="Rafael Uribe Uribe">Rafael Uribe Uribe</option>
        <option value="Ciudad Bolivar">Ciudad Bolívar</option>
        <option value="Sumapaz">Sumapaz</option>
      </select>

      <button onclick="mostrarInfo()">Filtrar</button>
    </div>

    <!-- Contenedor principal con mapa y resultados -->
    <div class="contenido-principal">
      <!-- Mapa -->
      <div id="map"></div>

      <!-- Resultado del filtro -->
      <div id="resultado" class="resultado">
        <div>
          <h2 id="tituloLocalidad"></h2>
          <p id="infoLocalidad"></p>
        </div>
        <p>Dale clic en continuar con las predicciones para conocer las condiciones actules del aire y sus
          predicciones.</p>
        <a href="{% url 'predicciones' %}" class="btn-prediccion">Continuar con las Predicciones</a>
      </div>
    </div>
  </div>

  <style>
    .btn-prediccion {
      display: inline-block;
      padding: 15px 35px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 50px;
      cursor: pointer;
      border: none;
      font-size: 16px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      margin-top: 20px;
    }

    .btn-prediccion::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      transition: left 0.4s ease;
      z-index: -1;
    }

    .btn-prediccion:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.6);
    }

    .btn-prediccion:hover::before {
      left: 0;
    }

    .btn-prediccion:active {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);
    }
  </style>
  <footer>© 2025 Misión TEMPO - Proyecto NASA Space Apps</footer>

  <script>
    function continuarPrediccion() {
      // Usar Django template tag para generar la URL correcta
      window.location.href = "{% url 'predicciones' %}";
    }
  </script>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script src="{% static 'js/mapa.js' %}"></script>

</body>

</html>